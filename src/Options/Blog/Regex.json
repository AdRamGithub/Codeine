{
    "Regex":
    {
        "Страница списка блога":
        {
            "Match":"^/blog/page(\\d+)$",
            "Service":"Entity.List",
            "Method":"Do",
            "Call":
            {
                "Entity": "Blog",
                "Page":  "$1",
                "Sort":
                {
                    "Created": "DESC"
                },
                "Where":
                {
                    "Published":
                    {
                        "$lt":
                        {
                            "Service": "System.Time",
                            "Method": "Get"
                        }
                    }
                }
            }
        },
        "Blog, Category, Page":
        {
            "Match":"^/blog/category/(.+)/page(\\d+)$",
            "Service":"System.Interface.HTTP",
            "Method":"Redirect",
            "Call":
            {
                "Location": "/blog/tags/$1/page$2"
            }
        },
        "Blog, Category":
        {
            "Match":"^/blog/category/(.*)$",
            "Service":"System.Interface.HTTP",
            "Method":"Redirect",
            "Call":
            {
                "Location": "/blog/tags/$1"
            }
        },
        "Blog, Tags, Page":
        {
            "Match":"^/blog/tags/(.+)/page(\\d+)$",
            "Service":"Entity.List",
            "Method":"Do",
            "Weight": 30,
            "Call":
            {
                "Entity": "Blog",
                "Page": "$2",
                "Custom Templates":
                {
                    "List": "List/Tags"
                },
                "Where":
                {
                    "Tags":  "$1",
                    "Published":
                    {
                        "$lt":
                        {
                            "Service": "System.Time",
                            "Method": "Get"
                        }
                    }
                }
            }
        },
        "Blog, Tags":
        {
            "Match":"^/blog/tags/(.*)$",
            "Service":"Entity.List",
            "Method":"Do",
            "Weight": 30,
            "Call":
            {
                "Entity": "Blog",
                "Custom Templates":
                {
                    "List": "List/Tags"
                },
                "Where":
                {
                    "Tags":  "$1",
                    "Published":
                    {
                        "$lt":
                        {
                            "Service": "System.Time",
                            "Method": "Get"
                        }
                    }
                }
            }
        },
        "Blogs, Tags":
        {
            "Match":"^/blogs/tag/(.*)$",
            "Service":"System.Interface.HTTP",
            "Method":"Redirect",
            "Weight": 30,
            "Call":
            {
                "Location": "/blog/tags/$1"
            }
        },
        "Blog, Author":
        {
            "Match":"^/blog/author/(.*)$",
            "Service":"Entity.List",
            "Method":"Do",
            "Weight": 30,
            "Call":
            {
                "Entity": "Blog",
                "Custom Templates":
                {
                    "List": "Author"
                },
                "Where":
                {
                    "User":  "$1",
                    "Published":
                    {
                        "$lt":
                        {
                            "Service": "System.Time",
                            "Method": "Get"
                        }
                    }
                }
            }
        },
        "Blog, Author, Page":
        {
            "Match":"^/blog/author/(.+)/page(\\d+)$",
            "Service":"Entity.List",
            "Method":"Do",
            "Weight": 30,
            "Call":
            {
                "Entity": "Blog",
                "Page": "$2",
                "Custom Templates":
                {
                    "List": "Author"
                },
                "Where":
                {
                    "User":  "$1",
                    "Published":
                    {
                        "$lt":
                        {
                            "Service": "System.Time",
                            "Method": "Get"
                        }
                    }
                }
            }
        },
        "RSS категории блога":
        {
            "Match":"^/blog/tags/(.*).rss$",
            "Weight": 44,
            "Service":"Entity.List",
            "Method":"Do",
            "View":
            {
                "Renderer":
                {
                    "Service": "View.RSS",
                    "Method": "Render"
                }
            },
            "Call":
            {
                "Title": "Блог",
                "Entity": "Blog",
                "Where":
                {
                    "Tags": "$1",
                    "Published":
                    {
                        "$lt":
                        {
                            "Service": "System.Time",
                            "Method": "Get"
                        }
                    }
                },
                "Sort":
                {
                    "Created": "DESC"
                }
            }
        },
        "Пост блога":
        {
            "Match":"/blog/(.*)",
            "Service":"Entity.Show.Static",
            "Method":"Do",
            "Call":
            {
                "Entity": "Blog",
                "Where":
                {
                    "Slug":  "$1",
                    "Published":
                    {
                        "$lt":
                        {
                            "Service": "System.Time",
                            "Method": "Get"
                        }
                    }
                }
            }
        },
        "Блог":
        {
            "Match":"^/blog$",
            "Service":"Entity.List",
            "Method":"Do",
            "Call":
            {
                "Entity": "Blog",
                "Sort":
                {
                    "Created": false
                },
                "Where":
                {
                    "Published":
                    {
                        "$lt":
                        {
                            "Service": "System.Time",
                            "Method": "Get"
                        }
                    }
                }
            }
        },
        "RSS блога":
        {
            "Match":"^/blog.rss$",
            "Service":"Entity.List",
            "Method":"Do",
            "View":
            {
                "Renderer":
                {
                    "Service": "View.RSS",
                    "Method": "Render"
                }
            },
            "Call":
            {
                "Entity": "Blog",
                "Link": "/blog",
                "Sort":
                {
                    "Created": false
                },
                "Where":
                {
                    "Published":
                    {
                        "$lt":
                        {
                            "Service": "System.Time",
                            "Method": "Get"
                        }
                    }
                }
            }
        },
        "Тег блога":
        {
            "Match":"^/blog/tag/(.*)$",
            "Service":"Entity.List",
            "Method":"Do",
            "Weight": 30,
            "Call":
            {
                "Entity": "Blog",
                "Custom Templates":
                {
                    "List": "List/Tag"
                },
                "Where":
                {
                    "Tags":  "$1",
                    "Published":
                    {
                        "$lt":
                        {
                            "Service": "System.Time",
                            "Method": "Get"
                        }
                    }
                }
            }
        },
        "Тег  блога, страницы":
        {
            "Match":"^/blog/tag/(.+)/page(\\d+)$",
            "Service":"Entity.List",
            "Method":"Do",
            "Weight": 30,
            "Call":
            {
                "Entity": "Blog",
                "Page": "$2",
                "Custom Templates":
                {
                    "List": "List/Tag"
                },
                "Where":
                {
                    "Tags":  "$1",
                    "Published":
                    {
                        "$lt":
                        {
                            "Service": "System.Time",
                            "Method": "Get"
                        }
                    }
                }
            }
        }
    }
}