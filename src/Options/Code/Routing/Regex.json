{
    "Mixins": ["Control.Regex", "User.Regex", "Search.Regex"],
    "Regex Pattern":
    {
        "Prefix": "@",
        "Postfix": "@su"
    },
    "Regex":
    {
        "Error":
        {
            "Match": "/error/(.*)",
            "Service": "Error.Page",
            "Method": "Do",
            "Call":
            {
                "Code": "$1"
            }
        },
        "IP Flag":
        {
           "Match": "/utils/ip-flag/(.+)",
           "Service": "Country.FlagByIP",
           "Method": "Get",
           "View":
           {
               "Renderer":
               {
                   "Service": "View.File",
                   "Method": "Render"
               }
           },
           "Call":
           {
               "IP": "$1"
           }
        },
        "Uploads":
        {
            "Match": "/uploads/(.*)",
            "Service": "IO.Uploader",
            "Method": "Read",
            "View":
            {
                "Renderer":
                {
                    "Service": "View.RAW",
                    "Method": "Render"
                }
            },
            "Call":
            {
                "Where":
                {
                    "ID": "$1"
                }
            }
        },
        "Page":
        {
            "Match": "/(.*)",
            "Weight": -5,
            "Service": "Entity.Show.Static",
            "Method": "Do",
            "Call":
            {
                "Entity": "Page",
                "Where":
                {
                    "Slug": "$1"
                }
            }
        },
        "Test":
        {
            "Match": "^/test/(.+)$",
            "Weight": 5,
            "Service": "Test",
            "Method": "Do",
            "Call":
            {
                "Test": "$1"
            }
        },
        "All Tests":
        {
            "Match": "^/test$",
            "Weight": 5,
            "Service": "Test",
            "Method": "Do"
        },
        "Show Sitemap":
        {
            "Match": "/sitemap/(.+)/(.+).xml",
            "Service": "SEO.Sitemap",
            "Method": "Sitemap",
            "View":
            {
                "Renderer":
                {
                    "Service": "View.XML",
                    "Method": "Render"
                }
            },
            "Call":
            {
                "Index": "$1",
                "Page": "$2"
            }
        },
        "Show Sitemap Index":
        {
            "Match": "/sitemap/(.+)-(\\d+).xml",
            "Service": "SEO.Sitemap",
            "Method": "Show Sitemap Index",
            "View":
            {
                "Renderer":
                {
                    "Service": "View.XML",
                    "Method": "Render"
                }
            },
            "Call":
            {
                "Index": "$1",
                "Index Page": "$2"
            }
        },
        "To":
        {
            "Match": "/to/(.+)",
            "Service": "System.Interface.HTTP",
            "Method": "Redirect",
            "Call":
            {
                "Redirect": "$1"
            }
        },
        "Go":
        {
            "Match": "/go/(.+)",
            "Service": "System.Interface.HTTP",
            "Method": "Remote Redirect",
            "Call":
            {
                "Redirect": "$1"
            }
        },
        "Deposit":
        {
            "Match": "/deposit/(.*)/(.+)",
            "Service": "Entity.Balance.Deposit",
            "Method": "Do",
            "Call":
            {
                "Entity": "$1",
                "Where": "$2"
            }
        },
        "WOT":
        {
            "Match": "/mywot(.+).html",
            "Service": "Providers.WOT",
            "Method": "Auth",
            "View":
            {
                "Renderer":
                {
                    "Service": "View.Plaintext",
                    "Method": "Render"
                }
            },
            "Call":
            {
                "ID": "$1"
            }
        }
    }
}
